{"remainingRequest":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\components\\RForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\components\\RForm.vue","mtime":1645335817398},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\babel.config.js","mtime":1645335806369},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHRoZSBjb21wb25lbnQKaW1wb3J0IFRyZWVzZWxlY3QgZnJvbSAnQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QnOwovLyBpbXBvcnQgdGhlIHN0eWxlcwppbXBvcnQgJ0ByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzJzsKaW1wb3J0IHsgdXBsb2FkIH0gZnJvbSAiLi4vYXBpL3VwbG9hZCI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IG1hdm9uRWRpdG9yIGZyb20gJ21hdm9uLWVkaXRvcic7CmltcG9ydCAnbWF2b24tZWRpdG9yL2Rpc3QvY3NzL2luZGV4LmNzcyc7Ci8vIHVzZQpWdWUudXNlKG1hdm9uRWRpdG9yKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSRm9ybSIsCiAgY29tcG9uZW50czogewogICAgVHJlZXNlbGVjdAogIH0sCiAgcHJvcHM6IHsKICAgIHJ1bGVzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30KICAgIH0sCiAgICBmb3JtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30KICAgIH0sCiAgICBzYXZlOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfSwKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVwbG9hZFVybDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0ZUZvcm0oKSB7CiAgICAgIGxldCBmbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmxhZzsKICAgIH0sCiAgICByZXNldEZpZWxkKCkgewogICAgICB0aGlzLiRyZWZzWydmb3JtJ10ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICB1cGxvYWRJbWcocGFyYW0pIHsKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgcGFyYW0uZmlsZSk7CiAgICAgIC8v6LCD55So5paH5Lu25LiK5LygCiAgICAgIHVwbG9hZChmb3JtRGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuZm9ybVtwYXJhbS5kYXRhLm5hbWVdID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5LiK5Lyg5Zu+54mH5LmL5YmN55qE6aqM6K+BCiAgICBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICBjb25zdCBpc0lNQUdFID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZycgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvanBnJyB8fCBmaWxlLnR5cGUgPT09ICdpbWFnZS9wbmcnOwogICAgICBjb25zdCBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7CiAgICAgIGlmICghaXNJTUFHRSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryBKUEcvSlBFRy9QTkcg5qC85byPIScpOwogICAgICB9CiAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnKTsKICAgICAgfQogICAgICByZXR1cm4gaXNJTUFHRSAmJiBpc0x0Mk07CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Treeselect","upload","Vue","mavonEditor","use","name","components","props","rules","type","Object","default","form","save","Function","items","Array","data","uploadUrl","methods","validateForm","flag","$refs","validate","valid","resetField","resetFields","uploadImg","param","formData","FormData","append","file","then","res","beforeUpload","isIMAGE","isLt2M","size","$message","error"],"sources":["src/components/RForm.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n\r\n            <template v-for=\"(item,index) in items\">\r\n                <el-row :key=\"index\">\r\n                    <el-col :span=\"24\">\r\n                        <template v-if=\"['text','password','number','email'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-input :type=\"item.type\" v-model=\"form[item.name]\"\r\n                                          :placeholder=\"item.placeholder\"></el-input>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['select'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-select v-model=\"form[item.name]\" :placeholder=\"item.placeholder\">\r\n                                    <el-option\r\n                                            v-for=\"item in item.options\"\r\n                                            :key=\"item.value\"\r\n                                            :label=\"item.label\"\r\n                                            :value=\"item.value\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['treeselect'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <treeselect v-model=\"form[item.name]\" :placeholder=\"item.placeholder\"\r\n                                            :options=\"item.options\"/>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['switch'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-switch v-model=\"form[item.name]\" active-color=\"#13ce66\"></el-switch>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['area'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <mavon-editor v-model=\"form[item.name]\"/>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['date'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-date-picker\r\n                                        v-model=\"form[item.name]\"\r\n                                        type=\"date\"\r\n                                        value-format=\"yyyy-MM-dd\"\r\n                                        placeholder=\"选择日期时间\">\r\n                                </el-date-picker>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['file'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-upload\r\n                                        class=\"upload-demo\"\r\n                                        action=\"string\"\r\n                                        :data=\"{name:item.name}\"\r\n                                        :http-request=\"uploadImg\"\r\n                                        :before-upload=\"beforeUpload\"\r\n                                        :limit=\"1\">\r\n                                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/jpeg/png文件，且不超过2M</div>\r\n                                </el-upload>\r\n                            </el-form-item>\r\n                        </template>\r\n                    </el-col>\r\n                </el-row>\r\n            </template>\r\n            <el-row>\r\n                <el-form-item>\r\n                    <el-button size=\"small\" icon=\"el-icon-refresh-right\" @click=\"resetField\" type=\"primary\">重置\r\n                    </el-button>\r\n                    <el-button size=\"small\" icon=\"el-icon-s-claim\" @click=\"save\" type=\"primary\">保存</el-button>\r\n                </el-form-item>\r\n            </el-row>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // import the component\r\n    import Treeselect from '@riophae/vue-treeselect'\r\n    // import the styles\r\n    import '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\n\r\n    import {upload} from \"../api/upload\";\r\n\r\n    import Vue from 'vue'\r\n    import mavonEditor from 'mavon-editor'\r\n    import 'mavon-editor/dist/css/index.css'\r\n    // use\r\n    Vue.use(mavonEditor)\r\n\r\n    export default {\r\n        name: \"RForm\",\r\n        components: {Treeselect},\r\n        props: {\r\n            rules: {\r\n                type: Object,\r\n                default: () => {\r\n                }\r\n            },\r\n            form: {\r\n                type: Object,\r\n                default: () => {\r\n                }\r\n            },\r\n            save: {\r\n                type: Function,\r\n                default: () => {\r\n                }\r\n            },\r\n            items: {\r\n                type: Array,\r\n                default: () => {\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                uploadUrl: ''\r\n            }\r\n        },\r\n        methods: {\r\n            validateForm() {\r\n                let flag = false;\r\n                this.$refs['form'].validate(valid => {\r\n                    if (valid) {\r\n                        flag = true;\r\n                    }\r\n                })\r\n                return flag;\r\n            },\r\n            resetField() {\r\n                this.$refs['form'].resetFields();\r\n            },\r\n            uploadImg(param) {\r\n                const formData = new FormData();\r\n                formData.append(\"file\", param.file);\r\n                //调用文件上传\r\n                upload(formData).then(res => {\r\n                    this.form[param.data.name] = res.data;\r\n                })\r\n            },\r\n            //上传图片之前的验证\r\n            beforeUpload(file) {\r\n                const isIMAGE = (file.type === 'image/jpeg') || (file.type === 'image/jpg') || (file.type === 'image/png');\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n                if (!isIMAGE) {\r\n                    this.$message.error('上传头像图片只能是 JPG/JPEG/PNG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                }\r\n                return isIMAGE && isLt2M;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAsFA;AACA,OAAAA,UAAA;AACA;AACA;AAEA,SAAAC,MAAA;AAEA,OAAAC,GAAA;AACA,OAAAC,WAAA;AACA;AACA;AACAD,GAAA,CAAAE,GAAA,CAAAD,WAAA;AAEA;EACAE,IAAA;EACAC,UAAA;IAAAN;EAAA;EACAO,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA,MACA;IACA;IACAC,IAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA,MACA;IACA;IACAE,IAAA;MACAJ,IAAA,EAAAK,QAAA;MACAH,OAAA,EAAAA,CAAA,MACA;IACA;IACAI,KAAA;MACAN,IAAA,EAAAO,KAAA;MACAL,OAAA,EAAAA,CAAA,MACA;IACA;EACA;EACAM,KAAA;IACA;MACAC,SAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACA,IAAAC,IAAA;MACA,KAAAC,KAAA,SAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACAH,IAAA;QACA;MACA;MACA,OAAAA,IAAA;IACA;IACAI,WAAA;MACA,KAAAH,KAAA,SAAAI,WAAA;IACA;IACAC,UAAAC,KAAA;MACA,MAAAC,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,SAAAH,KAAA,CAAAI,IAAA;MACA;MACA/B,MAAA,CAAA4B,QAAA,EAAAI,IAAA,CAAAC,GAAA;QACA,KAAAtB,IAAA,CAAAgB,KAAA,CAAAX,IAAA,CAAAZ,IAAA,IAAA6B,GAAA,CAAAjB,IAAA;MACA;IACA;IACA;IACAkB,aAAAH,IAAA;MACA,MAAAI,OAAA,GAAAJ,IAAA,CAAAvB,IAAA,qBAAAuB,IAAA,CAAAvB,IAAA,oBAAAuB,IAAA,CAAAvB,IAAA;MACA,MAAA4B,MAAA,GAAAL,IAAA,CAAAM,IAAA;MACA,KAAAF,OAAA;QACA,KAAAG,QAAA,CAAAC,KAAA;MACA;MACA,KAAAH,MAAA;QACA,KAAAE,QAAA,CAAAC,KAAA;MACA;MACA,OAAAJ,OAAA,IAAAC,MAAA;IACA;EACA;AACA"}]}
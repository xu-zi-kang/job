{"remainingRequest":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\components\\RForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\components\\RForm.vue","mtime":1645335817398},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgLy8gaW1wb3J0IHRoZSBjb21wb25lbnQNCiAgICBpbXBvcnQgVHJlZXNlbGVjdCBmcm9tICdAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCcNCiAgICAvLyBpbXBvcnQgdGhlIHN0eWxlcw0KICAgIGltcG9ydCAnQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QvZGlzdC92dWUtdHJlZXNlbGVjdC5jc3MnDQoNCiAgICBpbXBvcnQge3VwbG9hZH0gZnJvbSAiLi4vYXBpL3VwbG9hZCI7DQoNCiAgICBpbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCiAgICBpbXBvcnQgbWF2b25FZGl0b3IgZnJvbSAnbWF2b24tZWRpdG9yJw0KICAgIGltcG9ydCAnbWF2b24tZWRpdG9yL2Rpc3QvY3NzL2luZGV4LmNzcycNCiAgICAvLyB1c2UNCiAgICBWdWUudXNlKG1hdm9uRWRpdG9yKQ0KDQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBuYW1lOiAiUkZvcm0iLA0KICAgICAgICBjb21wb25lbnRzOiB7VHJlZXNlbGVjdH0sDQogICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICBydWxlczogew0KICAgICAgICAgICAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvcm06IHsNCiAgICAgICAgICAgICAgICB0eXBlOiBPYmplY3QsDQogICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gew0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzYXZlOiB7DQogICAgICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gew0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpdGVtczogew0KICAgICAgICAgICAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRhdGEoKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHVwbG9hZFVybDogJycNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgICAgdmFsaWRhdGVGb3JtKCkgew0KICAgICAgICAgICAgICAgIGxldCBmbGFnID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgcmV0dXJuIGZsYWc7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmVzZXRGaWVsZCgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzWydmb3JtJ10ucmVzZXRGaWVsZHMoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1cGxvYWRJbWcocGFyYW0pIHsNCiAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIHBhcmFtLmZpbGUpOw0KICAgICAgICAgICAgICAgIC8v6LCD55So5paH5Lu25LiK5LygDQogICAgICAgICAgICAgICAgdXBsb2FkKGZvcm1EYXRhKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVtwYXJhbS5kYXRhLm5hbWVdID0gcmVzLmRhdGE7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvL+S4iuS8oOWbvueJh+S5i+WJjeeahOmqjOivgQ0KICAgICAgICAgICAgYmVmb3JlVXBsb2FkKGZpbGUpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBpc0lNQUdFID0gKGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnKSB8fCAoZmlsZS50eXBlID09PSAnaW1hZ2UvanBnJykgfHwgKGZpbGUudHlwZSA9PT0gJ2ltYWdlL3BuZycpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsNCiAgICAgICAgICAgICAgICBpZiAoIWlzSU1BR0UpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5Y+q6IO95pivIEpQRy9KUEVHL1BORyDmoLzlvI8hJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghaXNMdDJNKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAyTUIhJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBpc0lNQUdFICYmIGlzTHQyTTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg=="},{"version":3,"sources":["RForm.vue"],"names":[],"mappings":";AAsFA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n\r\n            <template v-for=\"(item,index) in items\">\r\n                <el-row :key=\"index\">\r\n                    <el-col :span=\"24\">\r\n                        <template v-if=\"['text','password','number','email'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-input :type=\"item.type\" v-model=\"form[item.name]\"\r\n                                          :placeholder=\"item.placeholder\"></el-input>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['select'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-select v-model=\"form[item.name]\" :placeholder=\"item.placeholder\">\r\n                                    <el-option\r\n                                            v-for=\"item in item.options\"\r\n                                            :key=\"item.value\"\r\n                                            :label=\"item.label\"\r\n                                            :value=\"item.value\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['treeselect'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <treeselect v-model=\"form[item.name]\" :placeholder=\"item.placeholder\"\r\n                                            :options=\"item.options\"/>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['switch'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-switch v-model=\"form[item.name]\" active-color=\"#13ce66\"></el-switch>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['area'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <mavon-editor v-model=\"form[item.name]\"/>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['date'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-date-picker\r\n                                        v-model=\"form[item.name]\"\r\n                                        type=\"date\"\r\n                                        value-format=\"yyyy-MM-dd\"\r\n                                        placeholder=\"选择日期时间\">\r\n                                </el-date-picker>\r\n                            </el-form-item>\r\n                        </template>\r\n\r\n                        <template v-if=\"['file'].indexOf(item.type) != -1\">\r\n                            <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                                <el-upload\r\n                                        class=\"upload-demo\"\r\n                                        action=\"string\"\r\n                                        :data=\"{name:item.name}\"\r\n                                        :http-request=\"uploadImg\"\r\n                                        :before-upload=\"beforeUpload\"\r\n                                        :limit=\"1\">\r\n                                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/jpeg/png文件，且不超过2M</div>\r\n                                </el-upload>\r\n                            </el-form-item>\r\n                        </template>\r\n                    </el-col>\r\n                </el-row>\r\n            </template>\r\n            <el-row>\r\n                <el-form-item>\r\n                    <el-button size=\"small\" icon=\"el-icon-refresh-right\" @click=\"resetField\" type=\"primary\">重置\r\n                    </el-button>\r\n                    <el-button size=\"small\" icon=\"el-icon-s-claim\" @click=\"save\" type=\"primary\">保存</el-button>\r\n                </el-form-item>\r\n            </el-row>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // import the component\r\n    import Treeselect from '@riophae/vue-treeselect'\r\n    // import the styles\r\n    import '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\n\r\n    import {upload} from \"../api/upload\";\r\n\r\n    import Vue from 'vue'\r\n    import mavonEditor from 'mavon-editor'\r\n    import 'mavon-editor/dist/css/index.css'\r\n    // use\r\n    Vue.use(mavonEditor)\r\n\r\n    export default {\r\n        name: \"RForm\",\r\n        components: {Treeselect},\r\n        props: {\r\n            rules: {\r\n                type: Object,\r\n                default: () => {\r\n                }\r\n            },\r\n            form: {\r\n                type: Object,\r\n                default: () => {\r\n                }\r\n            },\r\n            save: {\r\n                type: Function,\r\n                default: () => {\r\n                }\r\n            },\r\n            items: {\r\n                type: Array,\r\n                default: () => {\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                uploadUrl: ''\r\n            }\r\n        },\r\n        methods: {\r\n            validateForm() {\r\n                let flag = false;\r\n                this.$refs['form'].validate(valid => {\r\n                    if (valid) {\r\n                        flag = true;\r\n                    }\r\n                })\r\n                return flag;\r\n            },\r\n            resetField() {\r\n                this.$refs['form'].resetFields();\r\n            },\r\n            uploadImg(param) {\r\n                const formData = new FormData();\r\n                formData.append(\"file\", param.file);\r\n                //调用文件上传\r\n                upload(formData).then(res => {\r\n                    this.form[param.data.name] = res.data;\r\n                })\r\n            },\r\n            //上传图片之前的验证\r\n            beforeUpload(file) {\r\n                const isIMAGE = (file.type === 'image/jpeg') || (file.type === 'image/jpg') || (file.type === 'image/png');\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n                if (!isIMAGE) {\r\n                    this.$message.error('上传头像图片只能是 JPG/JPEG/PNG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                }\r\n                return isIMAGE && isLt2M;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}
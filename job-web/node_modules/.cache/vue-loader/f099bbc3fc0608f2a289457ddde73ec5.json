{"remainingRequest":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\views\\company\\CompanyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\views\\company\\CompanyInfo.vue","mtime":1645335817411},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgaW1wb3J0IHt1cGRhdGV9IGZyb20gIkAvYXBpL2NvbXBhbnkiOw0KICAgIGltcG9ydCBSRm9ybSBmcm9tICJAL2NvbXBvbmVudHMvUkZvcm0iOw0KICAgIGltcG9ydCB7Y29tcGFueUluZm99IGZyb20gIkAvYXBpL2NvbXBhbnkiOw0KICAgIGltcG9ydCB7ZGljdF9xdWVyeX0gZnJvbSAiQC9hcGkvZGljdCI7DQoNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIG5hbWU6ICJDb21wYW55SW5mbyIsDQogICAgICAgIGNvbXBvbmVudHM6IHtSRm9ybX0sDQogICAgICAgIGRhdGEoKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGZvcm06IHsNCiAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLA0KICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgICAgICAgICAgICAgY29udGFjdDogJycsDQogICAgICAgICAgICAgICAgICAgIHRlbGVwaG9uZTogJycsDQogICAgICAgICAgICAgICAgICAgIGVtYWlsOiAnJywNCiAgICAgICAgICAgICAgICAgICAgYWRkcjogJycsDQogICAgICAgICAgICAgICAgICAgIHVybDogJycsDQogICAgICAgICAgICAgICAgICAgIHNpemU6ICcnLA0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJywNCiAgICAgICAgICAgICAgICAgICAgbG9nbzogJycsDQogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHJ1bGVzOiB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflv4XloavpobnkuI3og73kuLrnqbonfV0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGl0ZW1zOiBbDQogICAgICAgICAgICAgICAgICAgIHt0eXBlOiAndGV4dCcsIGxhYmVsOiAn5ZCN56ewJywgcHJvcDogJ25hbWUnLCBuYW1lOiAnbmFtZScsIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5ZCN56ewJ30sDQogICAgICAgICAgICAgICAgICAgIHt0eXBlOiAndGV4dCcsIGxhYmVsOiAn6IGU57O75Lq6JywgcHJvcDogJ2NvbnRhY3QnLCBuYW1lOiAnY29udGFjdCcsIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oup6IGU57O75Lq6Jywgb3B0aW9uczogW119LA0KICAgICAgICAgICAgICAgICAgICB7dHlwZTogJ3RleHQnLCBsYWJlbDogJ+iBlOezu+eUteivnScsIHByb3A6ICd0ZWxlcGhvbmUnLCBuYW1lOiAndGVsZXBob25lJywgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXogZTns7vnlLXor50nfSwNCiAgICAgICAgICAgICAgICAgICAge3R5cGU6ICd0ZXh0JywgbGFiZWw6ICfpgq7nrrEnLCBwcm9wOiAnZW1haWwnLCBuYW1lOiAnZW1haWwnLCBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpemCrueusSd9LA0KICAgICAgICAgICAgICAgICAgICB7dHlwZTogJ3RleHQnLCBsYWJlbDogJ+WcsOWdgCcsIHByb3A6ICdhZGRyJywgbmFtZTogJ2FkZHInLCBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeWcsOWdgCd9LA0KICAgICAgICAgICAgICAgICAgICB7dHlwZTogJ3RleHQnLCBsYWJlbDogJ+WklumTvicsIHByb3A6ICd1cmwnLCBuYW1lOiAndXJsJywgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXlpJbpk74nfSwNCiAgICAgICAgICAgICAgICAgICAge3R5cGU6ICd0ZXh0JywgbGFiZWw6ICfnvZHlnYAnLCBwcm9wOiAndXJsJywgbmFtZTogJ3VybCcsIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl572R5Z2AJ30sDQogICAgICAgICAgICAgICAgICAgIHt0eXBlOiAnc2VsZWN0JywgbGFiZWw6ICfop4TmqKEnLCBwcm9wOiAnc2l6ZScsIG5hbWU6ICdzaXplJywgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXop4TmqKEnLCBvcHRpb25zOiBbXX0sDQogICAgICAgICAgICAgICAgICAgIHt0eXBlOiAnc2VsZWN0JywgbGFiZWw6ICflhazlj7jnsbvlnosnLCBwcm9wOiAndHlwZScsIG5hbWU6ICd0eXBlJywgcGxhY2Vob2xkZXI6ICfor7fpgInmi6nlhazlj7jnsbvlnosnLCBvcHRpb25zOiBbXX0sDQogICAgICAgICAgICAgICAgICAgIHt0eXBlOiAnZmlsZScsIGxhYmVsOiAnTG9nbycsIHByb3A6ICdsb2dvJywgbmFtZTogJ2xvZ28nLCBwbGFjZWhvbGRlcjogJ0xvZ28nfSwNCiAgICAgICAgICAgICAgICAgICAge3R5cGU6ICdhcmVhJywgbGFiZWw6ICflhazlj7jmj4/ov7AnLCBwcm9wOiAnZGVzY3JpcHRpb24nLCBuYW1lOiAnZGVzY3JpcHRpb24nLCBwbGFjZWhvbGRlcjogJ+ivt+W9leWFpeWGheWuuSd9LA0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbW91bnRlZCgpIHsNCiAgICAgICAgICAgIHRoaXMuZ2V0SW5mbygpOw0KICAgICAgICAgICAgdGhpcy5nZXREaWN0TGlzdDEoNCk7DQogICAgICAgICAgICB0aGlzLmdldERpY3RMaXN0Mig1KTsNCiAgICAgICAgfSwNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgICAgZ2V0RGljdExpc3QxKHR5cGVJZCkgew0KICAgICAgICAgICAgICAgIGRpY3RfcXVlcnkoe3R5cGVJZDogdHlwZUlkfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgYXJyID0gW107DQogICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IHt2YWx1ZTogaXRlbS5kaWN0S2V5LCBsYWJlbDogaXRlbS5kaWN0VmFsfTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHApOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PSAnc2VsZWN0JyAmJiBpdGVtLm5hbWUgPT0gJ3R5cGUnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcHRpb25zID0gYXJyOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZ2V0RGljdExpc3QyKHR5cGVJZCkgew0KICAgICAgICAgICAgICAgIGRpY3RfcXVlcnkoe3R5cGVJZDogdHlwZUlkfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgYXJyID0gW107DQogICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IHt2YWx1ZTogaXRlbS5kaWN0S2V5LCBsYWJlbDogaXRlbS5kaWN0VmFsfTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHApOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PSAnc2VsZWN0JyAmJiBpdGVtLm5hbWUgPT0gJ3NpemUnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcHRpb25zID0gYXJyOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZ2V0SW5mbygpIHsNCiAgICAgICAgICAgICAgICBjb21wYW55SW5mbygpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtID0gcmVzLmRhdGE7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNhdmUoKSB7DQogICAgICAgICAgICAgICAgbGV0IGZsYWcgPSB0aGlzLiRyZWZzWydteUZvcm0nXS52YWxpZGF0ZUZvcm0oKTsNCiAgICAgICAgICAgICAgICBpZiAoZmxhZykgew0KICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW0gPSB0aGlzLmZvcm07DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uc2luZ2xlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zaW5nbGUgPSAnWSc7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zaW5nbGUgPSAnTic7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKHBhcmFtKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtLmNsb3NlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtLmNhbGxiYWNrKCk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9DQo="},{"version":3,"sources":["CompanyInfo.vue"],"names":[],"mappings":";AAOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"CompanyInfo.vue","sourceRoot":"src/views/company","sourcesContent":["<template>\r\n    <div>\r\n        <r-form ref=\"myForm\" :rules=\"rules\" :form=\"form\" :items=\"items\" :save=\"save\"></r-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {update} from \"@/api/company\";\r\n    import RForm from \"@/components/RForm\";\r\n    import {companyInfo} from \"@/api/company\";\r\n    import {dict_query} from \"@/api/dict\";\r\n\r\n    export default {\r\n        name: \"CompanyInfo\",\r\n        components: {RForm},\r\n        data() {\r\n            return {\r\n                form: {\r\n                    id: '',\r\n                    name: '',\r\n                    contact: '',\r\n                    telephone: '',\r\n                    email: '',\r\n                    addr: '',\r\n                    url: '',\r\n                    size: '',\r\n                    type: '',\r\n                    logo: '',\r\n                    description: '',\r\n                },\r\n                rules: {\r\n                    name: [{required: true, message: '必填项不能为空'}]\r\n                },\r\n                items: [\r\n                    {type: 'text', label: '名称', prop: 'name', name: 'name', placeholder: '请输入名称'},\r\n                    {type: 'text', label: '联系人', prop: 'contact', name: 'contact', placeholder: '请选择联系人', options: []},\r\n                    {type: 'text', label: '联系电话', prop: 'telephone', name: 'telephone', placeholder: '请输入联系电话'},\r\n                    {type: 'text', label: '邮箱', prop: 'email', name: 'email', placeholder: '请输入邮箱'},\r\n                    {type: 'text', label: '地址', prop: 'addr', name: 'addr', placeholder: '请输入地址'},\r\n                    {type: 'text', label: '外链', prop: 'url', name: 'url', placeholder: '请输入外链'},\r\n                    {type: 'text', label: '网址', prop: 'url', name: 'url', placeholder: '请输入网址'},\r\n                    {type: 'select', label: '规模', prop: 'size', name: 'size', placeholder: '请输入规模', options: []},\r\n                    {type: 'select', label: '公司类型', prop: 'type', name: 'type', placeholder: '请选择公司类型', options: []},\r\n                    {type: 'file', label: 'Logo', prop: 'logo', name: 'logo', placeholder: 'Logo'},\r\n                    {type: 'area', label: '公司描述', prop: 'description', name: 'description', placeholder: '请录入内容'},\r\n                ]\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getInfo();\r\n            this.getDictList1(4);\r\n            this.getDictList2(5);\r\n        },\r\n        methods: {\r\n            getDictList1(typeId) {\r\n                dict_query({typeId: typeId}).then(res => {\r\n                    let arr = [];\r\n                    res.data.forEach(item => {\r\n                        let p = {value: item.dictKey, label: item.dictVal};\r\n                        arr.push(p);\r\n                    });\r\n                    this.items.forEach(item => {\r\n                        if (item.type == 'select' && item.name == 'type') {\r\n                            item.options = arr;\r\n                        }\r\n                    })\r\n                })\r\n            },\r\n            getDictList2(typeId) {\r\n                dict_query({typeId: typeId}).then(res => {\r\n                    let arr = [];\r\n                    res.data.forEach(item => {\r\n                        let p = {value: item.dictKey, label: item.dictVal};\r\n                        arr.push(p);\r\n                    });\r\n                    this.items.forEach(item => {\r\n                        if (item.type == 'select' && item.name == 'size') {\r\n                            item.options = arr;\r\n                        }\r\n                    })\r\n                })\r\n            },\r\n            getInfo() {\r\n                companyInfo().then(res => {\r\n                    this.form = res.data;\r\n                    console.log(this.form)\r\n                })\r\n            },\r\n            save() {\r\n                let flag = this.$refs['myForm'].validateForm();\r\n                if (flag) {\r\n                    let param = this.form;\r\n                    if (this.form.single) {\r\n                        param.single = 'Y';\r\n                    } else {\r\n                        param.single = 'N';\r\n                    }\r\n                    update(param).then(res => {\r\n                        this.$message.success(res.msg);\r\n                        this.param.close();\r\n                        this.param.callback();\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}
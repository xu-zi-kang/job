{"remainingRequest":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\views\\train\\Train.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\views\\train\\Train.vue","mtime":1689761112337},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge3F1ZXJ5fSBmcm9tICJAL2FwaS90cmFpbiI7DQppbXBvcnQgQWRkIGZyb20gIi4vQWRkIjsNCmltcG9ydCBFZGl0IGZyb20gIi4vRWRpdCI7DQppbXBvcnQge2RlbH0gZnJvbSAiLi4vLi4vYXBpL3RyYWluIjsNCmltcG9ydCBSVGFibGUgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9SVGFibGUiOw0KaW1wb3J0IFJQYWdpbmF0aW9uIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvUlBhZ2luYXRpb24iOw0KaW1wb3J0IFJRdWVyeUZvcm0gZnJvbSAiLi4vLi4vY29tcG9uZW50cy9SUXVlcnlGb3JtIjsNCmltcG9ydCBjaGFydCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2VjaGFydHMvYmFyMy52dWUnDQppbXBvcnQgZGF0YSBmcm9tICJjb3JlLWpzL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24iOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJUcmFpbiIsDQogIGNvbXBvbmVudHM6IHtSUXVlcnlGb3JtLCBSUGFnaW5hdGlvbiwgRWRpdCwgQWRkLCBSVGFibGUsIGNoYXJ0fSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgIHRhYmxlQ29sczogWw0KICAgICAgICB7cHJvcDogJ2lkJywgbGFiZWw6ICdJRCcsIHdpZHRoOiA4MH0sDQogICAgICAgIHtwcm9wOiAncmVzdW1lSWQnLCBsYWJlbDogJ+eugOWOhicsIHNsb3Q6ICdzbG90X3Jlc3VtZSd9LA0KICAgICAgICB7cHJvcDogJ3N0YXJ0RGF0ZScsIGxhYmVsOiAn5byA5aeL5pe26Ze0J30sDQogICAgICAgIHtwcm9wOiAnZW5kRGF0ZScsIGxhYmVsOiAn57uT5p2f5pe26Ze0J30sDQogICAgICAgIHtwcm9wOiAnY29tcGFueScsIGxhYmVsOiAn5Z+56K6t5py65p6EJ30sDQogICAgICAgIHtwcm9wOiAnY291cnNlJywgbGFiZWw6ICfln7norq3or77nqIsnfQ0KICAgICAgXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgcGFnZTogMSwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgbmFtZTogJycNCiAgICAgIH0sDQogICAgICBpdGVtczogWw0KICAgICAgICB7dHlwZTogJ3RleHQnLCBsYWJlbDogJ+WfueiureivvueoiycsIG5hbWU6ICdjb3Vyc2UnLCBwbGFjZWhvbGRlcjogJ+aMieWfueiureivvueoi+afpeivoid9DQogICAgICBdLA0KICAgICAgYWRkOiB7DQogICAgICAgIHZpc2libGU6IGZhbHNlLA0KICAgICAgICBjbG9zZTogdGhpcy5jbG9zZSwNCiAgICAgICAgY2FsbGJhY2s6IHRoaXMuc2VhcmNoDQogICAgICB9LA0KICAgICAgZWRpdDogew0KICAgICAgICB2aXNpYmxlOiBmYWxzZSwNCiAgICAgICAgY2xvc2U6IHRoaXMuY2xvc2UsDQogICAgICAgIGNhbGxiYWNrOiB0aGlzLnNlYXJjaCwNCiAgICAgICAgZm9ybTogbnVsbA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmxpc3Qoe30pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZSA9IHZhbDsNCiAgICAgIGxldCBwYXJhbXMgPSB0aGlzLmZvcm07DQogICAgICBwYXJhbXMucGFnZSA9IHRoaXMucGFnZTsNCiAgICAgIHRoaXMubGlzdChwYXJhbXMpOw0KICAgIH0sDQogICAgc2VhcmNoKCkgew0KICAgICAgdGhpcy5saXN0KHRoaXMuZm9ybSk7DQogICAgfSwNCiAgICBsaXN0KHBhcmFtcykgew0KICAgICAgcXVlcnkocGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGE7DQogICAgICAgIGNvbnN0IGVtcHR5UmVzdW1lRGF0YSA9IHJlcy5kYXRhLmZpbHRlcihpdGVtID0+ICFpdGVtLnJlc3VtZSk7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gWy4uLnRoaXMudGFibGVEYXRhLCAuLi5lbXB0eVJlc3VtZURhdGFdOw0KICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsOw0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsb3NlKCkgew0KICAgICAgdGhpcy5hZGQudmlzaWJsZSA9IGZhbHNlOw0KICAgICAgdGhpcy5lZGl0LnZpc2libGUgPSBmYWxzZTsNCiAgICB9LA0KICAgIGNyZWF0ZSgpIHsNCiAgICAgIHRoaXMuYWRkLnZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgdXBkYXRlKCkgew0KICAgICAgbGV0IHNlbGVjdGlvbnMgPSB0aGlzLiRyZWZzWydtdXRpcGxlVGFibGUnXS5zZWxlY3Rpb247DQogICAgICBpZiAoc2VsZWN0aW9ucy5sZW5ndGggPT0gMSkgew0KICAgICAgICB0aGlzLmVkaXQudmlzaWJsZSA9IHRydWU7DQogICAgICAgIHRoaXMuZWRpdC5mb3JtID0gc2VsZWN0aW9uc1swXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup5LiA5p2h5pWw5o2u6L+b6KGM5L+u5pS5Iik7DQogICAgICB9DQogICAgfSwNCiAgICBkZWwoKSB7DQogICAgICBsZXQgc2VsZWN0aW9ucyA9IHRoaXMuJHJlZnNbJ211dGlwbGVUYWJsZSddLnNlbGVjdGlvbjsNCiAgICAgIGlmIChzZWxlY3Rpb25zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy4kY29uZmlybSgi56Gu5a6a5pyJ5Yig6Zmk5ZCX77yfIiwgIuWIoOmZpOaPkOekuiIpLnRoZW4oKCkgPT4gew0KICAgICAgICAgIGxldCBhcnIgPSBzZWxlY3Rpb25zLm1hcChpdGVtID0+IGl0ZW0uaWQpOw0KICAgICAgICAgIGxldCBpZHMgPSBhcnIuam9pbignLCcpOw0KICAgICAgICAgIGRlbChpZHMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsNCiAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7DQogICAgICAgICAgfSkNCiAgICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6nopoHliKDpmaTnmoTmlbDmja4iKTsNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Train.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Train.vue","sourceRoot":"src/views/train","sourcesContent":["<template>\r\n  <div>\r\n    <r-query-form :form=\"form\" :items=\"items\" @search=\"search\"></r-query-form>\r\n    <div class=\"btn-panel\">\r\n      <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" @click=\"create\">新增</el-button>\r\n      <el-button size=\"small\" type=\"primary\" icon=\"el-icon-edit\" @click=\"update\">修改</el-button>\r\n      <el-button size=\"small\" type=\"danger\" icon=\"el-icon-delete\" @click=\"del\">删除</el-button>\r\n    </div>\r\n\r\n    <r-table ref=\"mutipleTable\" :tableData=\"tableData\" :tableCols=\"tableCols\">\r\n      <template slot=\"slot_resume\" slot-scope=\"scope\">\r\n        <span v-if=\"scope.data.resume\">{{ scope.data.resume.name }}</span>\r\n        <span v-else>{{ scope.data.company }}</span>\r\n      </template>\r\n    </r-table>\r\n    <r-pagination :page=\"page\" :total=\"total\" @handleCurrentChange=\"handleCurrentChange\"></r-pagination>\r\n\r\n    <Add v-if=\"add.visible\" :param=\"add\"></Add>\r\n    <Edit v-if=\"edit.visible\" :param=\"edit\"></Edit>\r\n    <chart></chart>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {query} from \"@/api/train\";\r\nimport Add from \"./Add\";\r\nimport Edit from \"./Edit\";\r\nimport {del} from \"../../api/train\";\r\nimport RTable from \"../../components/RTable\";\r\nimport RPagination from \"../../components/RPagination\";\r\nimport RQueryForm from \"../../components/RQueryForm\";\r\nimport chart from '../../components/echarts/bar3.vue'\r\nimport data from \"core-js/internals/array-iteration\";\r\n\r\nexport default {\r\n  name: \"Train\",\r\n  components: {RQueryForm, RPagination, Edit, Add, RTable, chart},\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      tableCols: [\r\n        {prop: 'id', label: 'ID', width: 80},\r\n        {prop: 'resumeId', label: '简历', slot: 'slot_resume'},\r\n        {prop: 'startDate', label: '开始时间'},\r\n        {prop: 'endDate', label: '结束时间'},\r\n        {prop: 'company', label: '培训机构'},\r\n        {prop: 'course', label: '培训课程'}\r\n      ],\r\n      total: 0,\r\n      page: 1,\r\n      form: {\r\n        name: ''\r\n      },\r\n      items: [\r\n        {type: 'text', label: '培训课程', name: 'course', placeholder: '按培训课程查询'}\r\n      ],\r\n      add: {\r\n        visible: false,\r\n        close: this.close,\r\n        callback: this.search\r\n      },\r\n      edit: {\r\n        visible: false,\r\n        close: this.close,\r\n        callback: this.search,\r\n        form: null\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.list({});\r\n  },\r\n  methods: {\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      let params = this.form;\r\n      params.page = this.page;\r\n      this.list(params);\r\n    },\r\n    search() {\r\n      this.list(this.form);\r\n    },\r\n    list(params) {\r\n      query(params).then(res => {\r\n        this.tableData = res.data;\r\n        const emptyResumeData = res.data.filter(item => !item.resume);\r\n        this.tableData = [...this.tableData, ...emptyResumeData];\r\n        this.total = res.total;\r\n      })\r\n    },\r\n    close() {\r\n      this.add.visible = false;\r\n      this.edit.visible = false;\r\n    },\r\n    create() {\r\n      this.add.visible = true;\r\n    },\r\n    update() {\r\n      let selections = this.$refs['mutipleTable'].selection;\r\n      if (selections.length == 1) {\r\n        this.edit.visible = true;\r\n        this.edit.form = selections[0];\r\n      } else {\r\n        this.$message.warning(\"请选择一条数据进行修改\");\r\n      }\r\n    },\r\n    del() {\r\n      let selections = this.$refs['mutipleTable'].selection;\r\n      if (selections.length > 0) {\r\n        this.$confirm(\"确定有删除吗？\", \"删除提示\").then(() => {\r\n          let arr = selections.map(item => item.id);\r\n          let ids = arr.join(',');\r\n          del(ids).then(res => {\r\n            this.$message.success(res.msg);\r\n            this.search();\r\n          })\r\n        }).catch(() => {\r\n        })\r\n      } else {\r\n        this.$message.warning(\"请选择要删除的数据\");\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\front\\PostList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\src\\front\\PostList.vue","mtime":1645335817402},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yol\\Documents\\GitHub\\job\\job-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgaW1wb3J0ICcuLi9hc3NldHMvY3NzL3N0eWxlcy5jc3MnDQogICAgaW1wb3J0IEhlYWRlciBmcm9tICIuL0hlYWRlciI7DQogICAgaW1wb3J0IEZvb3RlciBmcm9tICIuL0Zvb3RlciI7DQogICAgaW1wb3J0IFJDYXJkIGZyb20gIi4vUkNhcmQiOw0KICAgIGltcG9ydCB7cG9zdF9xdWVyeX0gZnJvbSAiLi4vYXBpL2Zyb250IjsNCiAgICBpbXBvcnQge3NlbmRfY3JlYXRlfSBmcm9tICIuLi9hcGkvc2VuZCI7DQogICAgaW1wb3J0IHtmYXZvcl9jcmVhdGV9IGZyb20gIi4uL2FwaS9mYXZvciI7DQogICAgaW1wb3J0IGxvY2FsIGZyb20gIi4uL3N0b3JlL2xvY2FsIjsNCiAgICBpbXBvcnQge21lc3NhZ2V9IGZyb20gIi4uL3V0aWxzL21lc3NhZ2UiOw0KDQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBuYW1lOiAiSW5kZXgiLA0KICAgICAgICBwcm9wczogWydjaGFubmVsSWQnXSwNCiAgICAgICAgY29tcG9uZW50czoge1JDYXJkLCBGb290ZXIsIEhlYWRlcn0sDQogICAgICAgIGRhdGEoKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHBvc3RzOiBbXSwNCiAgICAgICAgICAgICAgICB0b3RhbDogMA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBtb3VudGVkKCkgew0KICAgICAgICAgICAgdGhpcy5nZXRQb3N0TGlzdCgpOw0KICAgICAgICB9LA0KICAgICAgICBtZXRob2RzOiB7DQogICAgICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2UpIHsNCiAgICAgICAgICAgICAgICAvLw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGdldFBvc3RMaXN0KCkgew0KICAgICAgICAgICAgICAgIHBvc3RfcXVlcnkoe30pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0cyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc2VuZChwb3N0SWQsIGNvbXBhbnlJZCkgew0KICAgICAgICAgICAgICAgIGlmKGxvY2FsLmdldFRva2VuKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYobG9jYWwuZ2V0VXNlckluZm8oKS50eXBlID09PSAyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+aJp+ihjOeUs+ivtw0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9jcmVhdGUoe3Bvc3RJZDpwb3N0SWQsIGNvbXBhbnlJZDpjb21wYW55SWR9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoIumdnuWtpueUn+eZu+W9leS4jeiDveeUs+ivt++8jOivt+S7peWtpueUn+i6q+S7vei/m+ihjOeZu+W9lSIpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKCLor7flhYjnmbvlvZUiKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZmF2b3IocG9zdElkLCBjb21wYW55SWQpIHsNCiAgICAgICAgICAgICAgICBpZihsb2NhbC5nZXRUb2tlbigpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKGxvY2FsLmdldFVzZXJJbmZvKCkudHlwZSA9PT0gMikgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/miafooYzmlLbol48NCiAgICAgICAgICAgICAgICAgICAgICAgIGZhdm9yX2NyZWF0ZSh7cG9zdElkOnBvc3RJZCwgY29tcGFueUlkOmNvbXBhbnlJZH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lcnJvcigi6Z2e5a2m55Sf55m75b2V5LiN6IO95pS26JeP77yM6K+35Lul5a2m55Sf6Lqr5Lu96L+b6KGM55m75b2VIikNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoIuivt+WFiOeZu+W9lSIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg=="},{"version":3,"sources":["PostList.vue"],"names":[],"mappings":";AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PostList.vue","sourceRoot":"src/front","sourcesContent":["<template>\r\n    <div>\r\n        <Header></Header>\r\n        <!-- 焦点区 -->\r\n        <div class=\"main mar-20\">\r\n            <el-row :gutter=\"15\">\r\n                <el-col :span=\"16\">\r\n                    <el-card style=\"min-height: 1000px\">\r\n                        <div slot=\"header\" class=\"clearfix\">\r\n                            <span>职位搜索</span>\r\n                        </div>\r\n                        <ul class=\"post-list\">\r\n                            <li v-for=\"(item,index) in posts\" :key=\"index\">\r\n                                <a href=\"#\">\r\n                                    {{item.name}}\r\n                                    <span style=\"float: right\">\r\n                                        <el-button type=\"primary\" @click=\"send(item.id, item.companyId)\" size=\"mini\" round>申请职位</el-button>\r\n                                        <el-button type=\"danger\"  @click=\"favor(item.id, item.companyId)\" size=\"mini\" round>收藏职位</el-button>\r\n                                    </span>\r\n                                </a>\r\n                                <p>\r\n                                    <span>{{item.salary}}</span>\r\n                                    <span>{{item.type}}</span>\r\n                                    <span>{{item.size}}</span>\r\n                                    <span>{{item.companyName}}</span>\r\n                                </p>\r\n                            </li>\r\n                        </ul>\r\n                        <el-pagination\r\n                                background\r\n                                layout=\"prev, pager, next, total\"\r\n                                @current-change=\"handleCurrentChange\"\r\n                                :total=\"total\">\r\n                        </el-pagination>\r\n                    </el-card>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                    <r-card :channelId=\"18\"></r-card>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n\r\n        <!-- 底部区域 -->\r\n        <Footer></Footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import '../assets/css/styles.css'\r\n    import Header from \"./Header\";\r\n    import Footer from \"./Footer\";\r\n    import RCard from \"./RCard\";\r\n    import {post_query} from \"../api/front\";\r\n    import {send_create} from \"../api/send\";\r\n    import {favor_create} from \"../api/favor\";\r\n    import local from \"../store/local\";\r\n    import {message} from \"../utils/message\";\r\n\r\n    export default {\r\n        name: \"Index\",\r\n        props: ['channelId'],\r\n        components: {RCard, Footer, Header},\r\n        data() {\r\n            return {\r\n                posts: [],\r\n                total: 0\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getPostList();\r\n        },\r\n        methods: {\r\n            handleCurrentChange(page) {\r\n                //\r\n            },\r\n            getPostList() {\r\n                post_query({}).then(res => {\r\n                    this.posts = res.data;\r\n                    this.total = res.total;\r\n                })\r\n            },\r\n            send(postId, companyId) {\r\n                if(local.getToken()) {\r\n                    if(local.getUserInfo().type === 2) {\r\n                        //执行申请\r\n                        send_create({postId:postId, companyId:companyId}).then(res => {\r\n                            this.$message.success(res.msg);\r\n                        })\r\n                    } else {\r\n                        message.error(\"非学生登录不能申请，请以学生身份进行登录\")\r\n                    }\r\n                } else {\r\n                    message.error(\"请先登录\");\r\n                }\r\n            },\r\n            favor(postId, companyId) {\r\n                if(local.getToken()) {\r\n                    if(local.getUserInfo().type === 2) {\r\n                        //执行收藏\r\n                        favor_create({postId:postId, companyId:companyId}).then(res => {\r\n                            this.$message.success(res.msg);\r\n                        })\r\n                    } else {\r\n                        message.error(\"非学生登录不能收藏，请以学生身份进行登录\")\r\n                    }\r\n                } else {\r\n                    message.error(\"请先登录\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}